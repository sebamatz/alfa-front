(this["webpackJsonpalfa-front"]=this["webpackJsonpalfa-front"]||[]).push([[0],{140:function(e,t,n){},149:function(e,t,n){},150:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(14),i=n.n(r),o=(n(140),n(9)),s=n(44),l=n(17),d=n(186),j=n(221),u=n(189),b=n(191),O=n(120),m=n(2),h=Object(d.a)((function(e){return Object(j.a)({dashboard:{display:"flex",alignItems:"center",height:"75vh",justifyContent:"center",textAlign:"center"},button:{minWidth:"250px",marginBottom:"20px"},link:{textDecoration:"none"}})})),f=function(e){var t=h();return Object(m.jsx)("div",{className:t.dashboard,children:Object(m.jsxs)(u.a,{container:!0,children:[Object(m.jsx)(u.a,{item:!0,xs:12,lg:6,children:Object(m.jsx)(s.b,{className:t.link,to:"/orders",children:Object(m.jsx)(b.a,{variant:"contained",color:"primary",className:t.button,children:Object(m.jsx)(O.a,{children:"\u0391\u039d\u0391\u0396\u0397\u03a4\u0397\u03a3\u0397 \u03a0\u0391\u03a1\u0391\u0393\u0393\u0395\u039b\u0399\u0391\u03a3"})})})}),Object(m.jsx)(u.a,{item:!0,xs:12,lg:6,children:Object(m.jsx)(s.b,{className:t.link,to:"/new",children:Object(m.jsx)(b.a,{variant:"contained",color:"primary",className:t.button,children:Object(m.jsx)(O.a,{children:"\u039d\u0395\u0391 \u03a0\u0391\u03a1\u0391\u0393\u0393\u0395\u039b\u0399\u0391"})})})})]})})},p=n(16),x=n.n(p),g=n(27),v=n(10),C=n(205),w=n(206),y=n(194),S=n(204),k=n(218),Y=n(112),D=n.n(Y),q=n(193),I=n(80),F=n.n(I),N=n(66),R=n.n(N),A=n(81),P=n.n(A),B=n(192),M=n(223);Object(d.a)((function(e){return Object(j.a)({root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}})}));function T(e){var t=e.headCells,n=e.classes,a=e.order,c=e.orderBy,r=e.onRequestSort;return Object(m.jsx)(B.a,{children:Object(m.jsx)(q.a,{children:t.map((function(e){return Object(m.jsx)(y.a,{sortDirection:c===e.id&&a,children:Object(m.jsxs)(M.a,{active:c===e.id,direction:c===e.id?a:"asc",onClick:(t=e.id,function(e){r(e,t)}),children:[e.label,c===e.id?Object(m.jsx)("span",{className:n.visuallyHidden,children:"desc"===a?"sorted descending":"sorted ascending"}):null]})},e.id);var t}))})})}var E=n(201),V=n(228),L=n(199),W=n(224),z=n(198),G=n(214),H=n(203),J="https://www.alfaeorders.com:19580",K=n(215),U=n(195),_=n(202),$=function(e){return function(t){return t.reduce((function(t,n){var a=e.map((function(e){return n[e]})).join("-");return t[a]=(t[a]||[]).concat(Object(v.a)(Object(v.a)({},n),{},{generatedKey:a})),t}),{})}},X=function(e,t){return e+encodeURIComponent(JSON.stringify(t))};function Q(){return Z.apply(this,arguments)}function Z(){return(Z=Object(g.a)(x.a.mark((function e(){var t,n,a,c,r,i,o=arguments;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:"",n=o.length>1&&void 0!==o[1]?o[1]:{},a=o.length>2&&void 0!==o[2]&&o[2],e.next=5,fetch(X(t,n));case 5:return c=e.sent,e.next=8,c.json();case 8:return r=e.sent,i=$(["trndate","fincode","status","comments"]),e.abrupt("return",a?i(r):r);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ee=function(){var e=Object(g.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q("".concat(J,"/erpapi/getorders/obj?pars="),t,!0);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=Object(g.a)(x.a.mark((function e(){var t,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={Company:1},e.next=3,Q("".concat(J,"/erpapi/getgroups?pars="),t);case 3:return n=e.sent,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ne=function(){var e=Object(g.a)(x.a.mark((function e(t){var n,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={Company:1,AFM:t},e.next=3,Q("".concat(J,"/erpapi/getbranches/obj?pars="),n);case 3:return a=e.sent,console.log("getbranches",a),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ae=[{Company:1,bOption:0,trdr:3975,trdbranch:125,comments:"test1",mtrl:10069,commentS1:"test1",qtY1:0,qtY2:0},{Company:1,bOption:0,trdr:3975,trdbranch:125,comments:"test2",mtrl:10069,commentS1:"test2",qtY1:0,qtY2:0},{Company:1,bOption:0,trdr:3975,trdbranch:125,comments:"test3",mtrl:10069,commentS1:"test13",qtY1:0,qtY2:0}];function ce(){return(ce=Object(g.a)(x.a.mark((function e(){var t,n,a,c=arguments;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:"",n=c.length>1&&void 0!==c[1]?c[1]:ae,e.next=4,fetch(t,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 4:return a=e.sent,e.t0=a,e.next=8,a.json();case 8:return e.t1=e.sent,e.abrupt("return",{response:e.t0,data:e.t1});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function re(e,t){return ie.apply(this,arguments)}function ie(){return(ie=Object(g.a)(x.a.mark((function e(t,n){var a,c,r,i,o,s,l,d;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a="".concat(J,"/erpapi/getorders/pdf?pars="),e.next=4,fetch(X(a,{Company:1,id:n}),{headers:{"Content-Type":"application/json"}});case 4:return c=e.sent,e.next=7,c.json();case 7:r=e.sent,i="data:application/pdf;base64,".concat(r),o=document.createElement("a"),s="".concat(t,".pdf"),o.href=i,o.download=s,o.click(),e.next=19;break;case 16:throw e.prev=16,e.t0=e.catch(0),new Error((null===e.t0||void 0===e.t0||null===(l=e.t0.response)||void 0===l||null===(d=l.data)||void 0===d?void 0:d.code)||e.t0.message);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})))).apply(this,arguments)}var oe={},se=Object(a.createContext)(oe);function le(){var e=Object(a.useState)(!1),t=Object(o.a)(e,2),n=t[0],c=t[1],r=function(e){var t=e.target.value;t.length>2&&(c(!0),F(t))},i=Object(a.useContext)(se),s=i.selectedInfo,l=i.handleSetSelectedValue,d=i.actions,j=i.orderColor,u=s.data,b=u.fincode,O=u.search,h=d.getSelection,f=Object(a.useState)(!1),p=Object(o.a)(f,2),C=p[0],w=p[1],y=Object(a.useState)([]),S=Object(o.a)(y,2),k=S[0],Y=S[1],D=Object(a.useState)(""),q=Object(o.a)(D,2),I=q[0],F=q[1];Object(a.useEffect)((function(){var e=!0;if(n)return Object(g.a)(x.a.mark((function t(){var n,a,r;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!I){t.next=7;break}return n={Company:1,SearchValue:I,BOption:j,DFrom:null,DTo:null,TakeRecs:null,Id:null,LastId:null,AFM:b},t.next=4,Q("".concat(J,"/erpapi/getitems/obj?pars="),n);case 4:a=t.sent,r=a.map((function(e){return{name:e.name,value:e.code,data:e}})),e&&(Y(r||[]),c(!1));case 7:case"end":return t.stop()}}),t)})))(),function(){e=!1}}),[I]),Object(a.useEffect)((function(){C||Y([])}),[C]);var N=Object(U.a)({stringify:function(e){return e.value}});return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(K.a,{filterOptions:N,id:"asynchronous-demo",style:{width:300},open:C,onOpen:function(){w(!0)},onClose:function(){w(!1)},onChange:function(e,t){t?k.filter((function(e){return e.value===t.value}))&&h(t.data):l("")},getOptionSelected:function(e,t){return e.code===t.code},renderOption:function(e){var t;return"".concat((null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.sku)||e.data.code," -- ").concat(e.name)},options:k,loading:n,value:O,renderInput:function(e){return Object(m.jsx)(W.a,Object(v.a)(Object(v.a)({},e),{},{variant:"outlined",onChange:r,InputProps:Object(v.a)(Object(v.a)({},e.InputProps),{},{endAdornment:Object(m.jsxs)(a.Fragment,{children:[n?Object(m.jsx)(_.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment]})})}))}})})}var de=function(e){var t=e.saveOrder,n=Object(a.useContext)(se),c=n.selectedInfo,r=n.setWeight,i=n.actions,s=n.setComments,l=n.setFinCode,d=c.data,j=d.mtrlname,u=d.qtY1,b=d.qtY2,O=d.xdocname,h=d.commentS1,f=d.search,p=Object(a.useState)([]),v=Object(o.a)(p,2),C=v[0],w=v[1],S=Object(a.useState)(c.data.fincode),k=Object(o.a)(S,2),Y=k[0],D=k[1],I=Object(a.useCallback)(Object(g.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te();case 2:t=e.sent,w(t),D(t[0].name),l(t[0].name);case 6:case"end":return e.stop()}}),e)}))),[]);Object(a.useEffect)((function(){I()}),[I]);var N=u.toLocaleString("el-GR");return Object(a.useEffect)((function(){"1"===b&&r(b)}),[b]),Object(m.jsxs)(q.a,{children:[Object(m.jsx)(y.a,{children:Object(m.jsx)(E.a,{children:C.length>0&&Object(m.jsx)(G.a,{onChange:function(e){var t=e.target.value;i.resetSelection(),D(t),l(t)},name:"fincode",value:Y,children:C.map((function(e,t){return Object(m.jsx)(V.a,{value:e.name,children:e.name})}))})})}),Object(m.jsx)(y.a,{children:Object(m.jsx)(le,{})}),Object(m.jsx)(y.a,{children:Object(m.jsx)(L.a,{value:j,disabled:!0,title:j})}),Object(m.jsx)(y.a,{children:Object(m.jsx)(W.a,{id:"number",name:"qtY2",value:b,onChange:function(e){var t=e.target.value;r(t)},type:"number"})}),Object(m.jsx)(y.a,{children:Object(m.jsx)(L.a,{name:"qtY1",value:N,disabled:!0})}),Object(m.jsx)(y.a,{children:O?Object(m.jsx)("img",{alt:"xdocname",src:"https://alfa-press.gr/wp-content/themes/porto-child/erp/icons/".concat(O),height:"90"}):Object(m.jsx)(F.a,{})}),Object(m.jsx)(y.a,{children:Object(m.jsx)(L.a,{name:"commentS1",value:h,onChange:function(e){var t=e.target.value;s(t)}})}),f&&Object(m.jsx)(y.a,{children:Object(m.jsx)(z.a,{onClick:function(){if(console.log("selectedInfo",c.data),c.data.qtY2<1)return alert("\u0394\u03b5\u03bd \u03ad\u03c7\u03b5\u03b9 \u03c3\u03c5\u03bc\u03c0\u03bb\u03b7\u03c1\u03c9\u03b8\u03b5\u03af \u03c4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u2013 \u03b2\u03ad\u03c1\u03b3\u03b5\u03c2 \u03ad\u03bb\u03b1\u03c7\u03b9\u03c3\u03c4\u03b7 \u03c0\u03bf\u03c3\u03cc\u03c4\u03b7\u03c4\u03b1 1");t(c.data),i.resetSelection()},color:"primary",component:"span",children:Object(m.jsx)(H.a,{})})})]})};function je(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}function ue(e,t){return"desc"===e?function(e,n){return je(e,n,t)}:function(e,n){return-je(e,n,t)}}function be(e,t){var n=e.map((function(e,t){return[e,t]}));return n.sort((function(e,n){var a=t(e[0],n[0]);return 0!==a?a:e[1]-n[1]})),n.map((function(e){return e[0]}))}var Oe=Object(d.a)((function(e){return Object(j.a)({root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{border:"none"},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}})}));function me(e){var t=e.onRowclick,n=e.rows,r=e.headCells,i=e.name,s=e.clearCell,l=void 0!==s&&s,d=(e.maxCols,e.add),j=void 0!==d&&d,u=e.orderCol,O=void 0===u?"":u,h=e.pagination,f=void 0===h||h,p=e.stickyHeader,x=e.getRows,g=e.selectedRow,v=void 0===g?null:g,Y=e.rowsPerPagenum,I=void 0===Y?25:Y,N=e.getPdf,A=Oe(),B=c.a.useState("asc"),M=Object(o.a)(B,2),E=M[0],V=M[1],L=c.a.useState(O),W=Object(o.a)(L,2),z=W[0],G=W[1],H=c.a.useState(0),J=Object(o.a)(H,2),K=J[0],U=J[1],_=c.a.useState(I),$=Object(o.a)(_,2),X=$[0],Q=$[1],Z=Object(a.useState)(n),ee=Object(o.a)(Z,2),te=ee[0],ne=ee[1],ae=Object(a.useState)(!1),ce=Object(o.a)(ae,2),re=ce[0],ie=ce[1],oe=null;Object(a.useEffect)((function(){!j&&ne(n)}),[n,j]);Math.min(X,n.length-K*X);return Object(m.jsxs)("div",{className:A.root,children:[Object(m.jsxs)("form",{children:[Object(m.jsx)(S.a,{children:Object(m.jsxs)(C.a,{stickyHeader:p,className:A.table,"aria-labelledby":"tableTitle",size:"medium","aria-label":"enhanced table",children:[Object(m.jsx)(T,{classes:A,order:E,orderBy:z,onRequestSort:function(e,t){V(z===t&&"asc"===E?"desc":"asc"),G(t)},rowCount:n.length,headCells:r}),Object(m.jsxs)(w.a,{children:[be(te,ue(E,z)).slice(K*X,K*X+X).map((function(e,n){return Object(m.jsxs)(q.a,{hover:!0,onClick:function(n){return function(e,n){e.preventDefault(),t([n])}(n,e)},tabIndex:-1,selected:e.fincode===(null===v||void 0===v?void 0:v.fincode),children:[r.map((function(t,n){var a=e[t.id];if("trndate"===t.id&&(a=R()(e[t.id]).format("DD/MM/YY")),"qtY1"===t.id&&(a=a.toLocaleString("el-GR")),"xdocname"===t.id){var c=e[t.id],r="https://alfa-press.gr/wp-content/themes/porto-child/erp/icons/".concat(c);a=c?Object(m.jsx)("img",{alt:"xdocname",src:r,height:"90"}):Object(m.jsx)(F.a,{})}return"status"===t.id&&(console.log(e.series),oe=9021===e.series?"AVAFO_LEYKO.jpg":"XRWMA.jpg"),Object(m.jsx)(y.a,{children:a},n)})),"master"===i&&Object(m.jsx)(y.a,{style:{padding:"0px"},children:Object(m.jsx)(b.a,{onClick:function(){return N(e.fincode,e.findoc)},children:Object(m.jsx)(P.a,{style:{color:"red",fontSize:"40px"}})})}),l&&Object(m.jsx)(y.a,{children:Object(m.jsx)(D.a,{color:"error",onClick:function(){return function(e){var t=te.filter((function(t,n){return e!==n}));x(t),ne(t),ie(!1)}(n)}})},"".concat(n,"-cancel"))]},n)})),re&&Object(m.jsx)(de,{saveOrder:function(e){te.push(e),x(te),ne(te),ie(!1)}}),j&&Object(m.jsx)("div",{style:{margin:"20px 0"},children:Object(m.jsx)(b.a,{variant:"contained",color:"primary",onClick:function(e){e.preventDefault(),ie(!re)},children:re?"\u0391\u039a\u03a5\u03a1\u03a9\u03a3\u0397":"+"})})]})]})}),f&&Object(m.jsx)(k.a,{rowsPerPageOptions:[5,10,25],component:"div",count:n.length,rowsPerPage:X,page:K,onPageChange:function(e,t){U(t)},onRowsPerPageChange:function(e){Q(parseInt(e.target.value,10)),U(0)}})]}),oe&&"details"===i&&Object(m.jsx)("img",{className:"status",alt:"xdocname",src:"https://alfa-press.gr/wp-content/themes/porto-child/erp/icons/".concat(oe)})]})}var he="pending",fe="1",pe="2",xe="3",ge=n(5),ve=n(229),Ce=n(208),we=n(216),ye=Object(d.a)((function(e){return Object(j.a)({radios:{textAlign:"left"}})})),Se=Object(ge.a)((function(e){var t=e.palette;return{root:{color:t.primary.main,"&$checked":{color:t.primary.main}},checked:{}}}))((function(e){return Object(m.jsx)(we.a,Object(v.a)({color:"default"},e))})),ke=function(e){var t=e.optionValue,n=ye(),c=Object(a.useState)(he),r=Object(o.a)(c,2),i=r[0],s=r[1];return Object(m.jsx)(E.a,{component:"fieldset",children:Object(m.jsx)(ve.a,{"aria-label":"orders",name:"orders",value:i,onChange:function(e){var n=e.target.value;s(n),t(n)},children:Object(m.jsxs)(u.a,{container:!0,className:n.radios,children:[Object(m.jsx)(u.a,{item:!0,xs:12,children:Object(m.jsx)(Ce.a,{value:he,control:Object(m.jsx)(Se,{}),label:"\u0391\u03bd\u03b5\u03ba\u03c4\u03ad\u03bb\u03b5\u03c3\u03c4\u03b5\u03c2 \u03a0\u03b1\u03c1\u03b1\u03b3\u03b3\u03b5\u03bb\u03af\u03b5\u03c2"})}),Object(m.jsx)(u.a,{item:!0,xs:12,children:Object(m.jsx)(Ce.a,{value:"dateSearch",control:Object(m.jsx)(Se,{}),label:"\u03a3\u03cd\u03bd\u03b8\u03b5\u03c4\u03b7 \u0391\u03bd\u03b1\u03b6\u03ae\u03c4\u03b7\u03c3\u03b7"})})]})})})},Ye=n(65),De=n(22),qe=n(213),Ie=n(115),Fe=n(8),Ne=n(83),Re=n.n(Ne),Ae=Object(d.a)((function(e){return Object(j.a)({search:Object(Ye.a)({border:"solid 1px",position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(Fe.a)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(Fe.a)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(Ye.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:"12ch","&:focus":{width:"20ch"}}),date:{textAlign:"left"}})})),Pe=function(e){var t=e.getDateFrom,n=e.getDateTo,c=e.getSearchData,r=Ae(),i=Object(a.useState)(""),s=Object(o.a)(i,2),l=s[0],d=s[1],j=Object(a.useState)(new Date),O=Object(o.a)(j,2),h=O[0],f=O[1],p=Object(a.useState)(new Date),x=Object(o.a)(p,2),g=x[0],v=x[1],C="dd-MM-yyyy";return Object(m.jsx)(De.a,{utils:Ie.a,children:Object(m.jsxs)(u.a,{container:!0,spacing:3,justifyContent:"flex-start",children:[Object(m.jsxs)(u.a,{container:!0,children:[Object(m.jsx)(u.a,{item:!0,xs:6,className:r.date,children:Object(m.jsx)(qe.a,{autoOk:!0,disableToolbar:!0,format:C,margin:"normal",id:"Form",label:"\u0391\u03a0\u039f",value:h,onChange:function(e){f(e),t(e)}})}),Object(m.jsx)(u.a,{item:!0,xs:6,className:r.date,children:Object(m.jsx)(qe.a,{autoOk:!0,disableToolbar:!0,margin:"normal",id:"date-picker-dialog",label:"\u0395\u03a9\u03a3",format:C,value:g,onChange:function(e){v(e),n(e)}})})]}),Object(m.jsxs)(u.a,{container:!0,spacing:1,alignItems:"flex-end",children:[Object(m.jsxs)(u.a,{container:!0,item:!0,xs:6,alignItems:"flex-end",children:[Object(m.jsx)(u.a,{item:!0,children:Object(m.jsx)(W.a,{id:"input-with-icon-grid",onChange:function(e){d(e.target.value)},label:"\u039a\u03c9\u03b4\u03b9\u03ba\u03cc\u03c2..."})}),Object(m.jsx)(u.a,{item:!0,children:Object(m.jsx)(Re.a,{})})]}),Object(m.jsx)(u.a,{item:!0,xs:6,children:Object(m.jsxs)(b.a,{variant:"contained",color:"primary",onClick:function(){var e=R()(h).format("YYYYMMDD"),t=R()(g).format("YYYYMMDD");c({from:e,to:t,text:l})},children:["\u0391\u039d\u0391\u0396\u0397\u03a4\u0397\u03a3\u0397"," "]})})]})]})})},Be=n(113),Me=n(226),Te={},Ee=Object(a.createContext)(Te);function Ve(e){Object(Be.a)(e);var t=Object(a.useContext)(Ee),n=t.branch,c=t.selectedBranch,r=t.setSelectBranch;return Object(m.jsxs)(E.a,{fullWidth:!0,children:[Object(m.jsx)(Me.a,{className:"branch",id:"demo-simple-select-label",children:"\u039a\u0391\u03a4\u0391\u03a3\u03a4\u0397\u039c\u0391"}),n.length>0&&Object(m.jsx)(G.a,{onChange:function(e){var t=e.target.value,a=n.find((function(e){return e.code===t}));r(a)},name:"fincode",value:c.code,children:n.map((function(e,t){return Object(m.jsx)(V.a,{value:e.code,children:e.address})}))})]})}var Le=n(114),We=n.n(Le),ze=Object(d.a)((function(e){return Object(j.a)({link:{textDecoration:"none"}})})),Ge=function(e){var t=ze();return Object(m.jsx)(s.b,{className:t.link,to:"/#",children:Object(m.jsx)(b.a,{variant:"contained",color:"primary",startIcon:Object(m.jsx)(We.a,{}),children:"Menu"})})},He=Object(d.a)((function(e){return Object(j.a)({root:{flexGrow:1},paper:{padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary},table:{overflow:"auto",marginTop:e.spacing(4)},table_wrapper:{padding:e.spacing(2),border:"1px solid #e0e0e0",borderRadius:"5px"},title:{padding:e.spacing(2),textAlign:"center"},link:{textDecoration:"none"}})})),Je=function(e){var t,n,c=e.afm,r={Company:1,SearchValue:null,BOption:3,DFrom:null,DTo:null,TakeRecs:null,Id:null,LastId:null,AFM:c},i=Object(a.useContext)(Ee),s=i.selectedBranch,l=i.branch,d=He(),j=Object(a.useState)(he),b=Object(o.a)(j,2),h=b[0],f=b[1],p=Object(a.useState)([]),C=Object(o.a)(p,2),w=C[0],y=C[1],S=Object(a.useState)([]),k=Object(o.a)(S,2),Y=k[0],D=k[1],q=Object(a.useState)(r),I=Object(o.a)(q,2),F=I[0],N=I[1],R=Object(a.useState)(null),A=Object(o.a)(R,2),P=A[0],B=A[1],M=Object(a.useState)(null),T=Object(o.a)(M,2),E=T[0],V=T[1],L=Object.keys(Y).map((function(e){return Y[e][0]})),W=function(e){var t=e[0].generatedKey;y(Y[t])},z=function(){var e=Object(g.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee(t);case 2:n=e.sent,D(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){c&&1===l.length&&z(Object(v.a)(Object(v.a)({},F),{},{AFM:c})),s.trdbranch&&z(Object(v.a)(Object(v.a)({},F),{},{AFM:c,TrdrBranch:s.trdbranch}))}),[c,F,s,l]),Object(m.jsxs)(u.a,{container:!0,spacing:3,justifyContent:"center",children:[Object(m.jsx)(Ge,{}),Object(m.jsx)(u.a,{item:!0,xs:12,children:Object(m.jsx)(O.a,{className:d.title,children:"\u0391\u039d\u0391\u0396\u0397\u03a4\u0397\u03a3\u0397 \u03a0\u0391\u03a1\u0391\u0393\u0393\u0395\u039b\u0399\u0391\u03a3"})}),Object(m.jsxs)(u.a,{item:!0,xs:12,children:[Object(m.jsx)(u.a,{container:!0,spacing:3,justifyContent:"center",children:Object(m.jsx)(u.a,{item:!0,children:l.length>1&&Object(m.jsx)(Ve,{})})}),Object(m.jsxs)(u.a,{container:!0,spacing:3,justifyContent:"center",children:[Object(m.jsx)(u.a,{item:!0,children:Object(m.jsx)(ke,{optionValue:function(e){e===he&&N(r),f(e),y([])}})}),Object(m.jsx)(u.a,{item:!0,xs:12,sm:6,children:h!==he&&Object(m.jsx)(Pe,{getSearchData:function(e){var t=e.text;e.from,e.to;N(Object(v.a)(Object(v.a)({},F),{},{SearchValue:t,DFrom:P,DTo:E}))},getDateFrom:B,getDateTo:V})})]})]}),Object(m.jsx)(u.a,{item:!0,lg:6,sm:12,className:d.table,children:Object(m.jsx)("div",{className:d.table_wrapper,children:Object(m.jsx)(me,{name:"master",onRowclick:W,rows:Y&&L,headCells:[{id:"fincode",numeric:!1,label:"\u03a0\u0391\u03a1\u0391\u0393\u0393\u0395\u039b\u0399\u0391"},{id:"trndate",numeric:!1,label:"\u0397\u039c/\u039d\u0399\u0391"},{id:"download",numeric:!1,label:"\u0395\u039a\u03a4\u03a5\u03a0\u03a9\u03a3\u0397"}],selectedRow:w[0],getPdf:re})})}),Object(m.jsx)(u.a,{item:!0,xs:6}),Object(m.jsxs)(u.a,{item:!0,lg:12,sm:12,className:d.table,children:[Object(m.jsx)(u.a,{item:!0,xs:12,children:Object(m.jsx)(O.a,{className:d.title,children:"\u0391\u039d\u0391\u039b\u03a5\u03a3\u0397 \u03a0\u0391\u03a1\u0391\u0393\u0393\u0395\u039b\u0399\u0391\u03a3"})}),(null===(t=w[0])||void 0===t?void 0:t.ficomments)&&Object(m.jsxs)("span",{children:["\u0391\u03b9\u03c4\u03b9\u03bf\u03bb\u03bf\u03b3\u03af\u03b1: ",w[0].ficomments,"\xa0\xa0\xa0\xa0\xa0"]}),(null===(n=w[0])||void 0===n?void 0:n.remarks)&&Object(m.jsxs)("span",{children:["\u03a0\u03b1\u03c1\u03b1\u03c4\u03b7\u03c1\u03ae\u03c3\u03b5\u03b9\u03c2: ",w[0].remarks]}),Object(m.jsx)(me,{name:"details",onRowclick:W,rows:w,headCells:[{id:"fincode",numeric:!1,label:"\u03a0\u0391\u03a1\u0391\u0393\u0393\u0395\u039b\u0399\u0391"},{id:"trndate",numeric:!1,label:"\u0397\u039c/\u039d\u0399\u0391"},{id:"status",numeric:!1,label:"\u03a3\u03a4\u0391\u0394\u0399\u039f \u0395\u03a0\u0395\u039e\u0395\u03a1\u0393\u0391\u03a3\u0399\u0391\u03a3"},{id:"sku",numeric:!1,label:"\u039a\u03a9\u0394\u0399\u039a\u039f\u03a3"},{id:"mtrlname",numeric:!1,label:"\u03a0\u0395\u03a1\u0399\u0393\u03a1\u0391\u03a6\u0397"},{id:"qtY2",numeric:!0,label:"\u0392\u0395\u03a1\u0393\u0395\u03a3"},{id:"qtY1",numeric:!0,label:"\u039a\u0399\u039b\u0391"},{id:"qtY2COV",numeric:!0,label:"\u0392\u0395\u03a1\u0393\u0395\u03a3 \u0395\u039a\u03a4\u0395\u039b\u0395\u03a3\u039c\u0395\u039d\u0395\u03a3"},{id:"qtY2REM",numeric:!0,label:"\u0392\u0395\u03a1\u0393\u0395\u03a3 \u0391\u039d\u0395\u039a\u03a4\u0395\u039b\u0395\u03a3\u03a4\u0395\u03a3"},{id:"xdocname",numeric:!1,label:"\u03a4\u039f\u039c\u0397"},{id:"mtcommentS1",numeric:!1,label:"\u03a0\u0391\u03a1\u0391\u03a4\u0397\u03a1\u0397\u03a3\u0395\u0399\u03a3"}]})]})]})},Ke=(Object(d.a)((function(e){return Object(j.a)({radios:{textAlign:"left"}})})),Object(ge.a)((function(e){var t=e.palette;return{root:{color:t.primary.main,"&$checked":{color:t.primary.main}},checked:{}}}))((function(e){return Object(m.jsx)(we.a,Object(v.a)({color:"default"},e))}))),Ue=function(e){var t=e.isDisabled,n=Object(a.useContext)(se),c=n.selectedInfo,r=n.setOrderColor,i=n.setColorValue,o=n.orderColor,s=n.actions,l=n.setFinCode,d=n.colorValue;c.data.comments;return Object(m.jsx)(E.a,{component:"fieldset",children:Object(m.jsx)(ve.a,{"aria-label":"orders",row:!0,name:"orders",value:o,onChange:function(e){s.resetSelection();var t=e.target.value;r(t),l(c.data.fincode)},children:Object(m.jsxs)(u.a,{container:!0,spacing:3,alignItems:"flex-end",children:[Object(m.jsx)(u.a,{item:!0,children:Object(m.jsx)(Ce.a,{value:fe,control:Object(m.jsx)(Ke,{}),label:"\u0386\u03b2\u03b1\u03c6\u03bf",disabled:t})}),Object(m.jsx)(u.a,{item:!0,children:Object(m.jsx)(Ce.a,{value:pe,disabled:t,control:Object(m.jsx)(Ke,{}),label:"\u039b\u03b5\u03c5\u03ba\u03cc"})}),Object(m.jsx)(u.a,{item:!0,children:Object(m.jsx)(Ce.a,{value:xe,disabled:t,control:Object(m.jsx)(Ke,{}),label:"\u03a7\u03c1\u03ce\u03bc\u03b1"})}),o===xe&&Object(m.jsx)(u.a,{item:!0,children:Object(m.jsxs)(u.a,{container:!0,spacing:3,alignItems:"flex-end",children:[Object(m.jsx)(u.a,{item:!0,children:Object(m.jsx)(W.a,{id:"input-with-icon-grid",onChange:function(e){var t=e.target.value;i(t)},label:"\u039a\u03c9\u03b4\u03b9\u03ba\u03cc\u03c2...",disabled:t,value:d})}),Object(m.jsx)(u.a,{item:!0,children:Object(m.jsx)(Re.a,{})})]})})]})})})},_e=n(222),$e=n(219),Xe=n(211),Qe=n(209),Ze=n(210),et=Object(_e.a)($e.a)((function(e){var t=e.theme;return{"& .MuiDialogContent-root":{padding:t.spacing(2)},"& .MuiDialogActions-root":{padding:t.spacing(1)}}}));function tt(e){var t=e.onClose,n=e.getPdf,a=e.open,c=e.finDoc;return Object(m.jsx)("div",{children:Object(m.jsxs)(et,{fullWidth:!0,onClose:function(){window.location.reload(),t(!1)},"aria-labelledby":"customized-dialog-title",open:a,children:[Object(m.jsx)(Xe.a,{id:"customized-dialog-title",style:{padding:"16px 14px"},children:"\u0395\u03c0\u03b9\u03c4\u03c5\u03c7\u03ae\u03c2 \u03b1\u03c0\u03bf\u03c3\u03c4\u03bf\u03bb\u03ae"}),Object(m.jsx)(Qe.a,{dividers:!0,children:Object(m.jsxs)(O.a,{gutterBottom:!0,children:["\u03a0\u0391\u03a1\u0391\u0393\u0393\u0395\u039b\u0399\u0391 ",c]})}),Object(m.jsxs)(Ze.a,{style:{justifyContent:"space-between"},children:[Object(m.jsx)(b.a,{variant:"contained",color:"primary",autoFocus:!0,onClick:function(){window.location.reload()},children:"\u03c3\u03c5\u03bd\u03b5\u03c7\u03b5\u03b9\u03b1"}),Object(m.jsx)(b.a,{onClick:n,children:Object(m.jsx)(P.a,{style:{color:"red",fontSize:"40px"}})})]})]})})}var nt=Object(d.a)((function(e){return Object(j.a)({root:{flexGrow:1},paper:{padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary},table:{overflow:"auto",marginTop:e.spacing(4)},title:{padding:e.spacing(2),textAlign:"center"}})})),at={data:{search:null,fincode:"1",sku:"",mtrlname:"",qtY2:"",qtY1:"",xdocname:"",commentS1:"",comments:"",qtY1Def:""}},ct=function(){Object(l.f)();var e=Object(a.useContext)(Ee),t=e.selectedBranch,n=e.branch,c=e.setSelectBranch,r=Object(a.useState)([]),i=Object(o.a)(r,2),s=i[0],d=i[1],j=Object(a.useState)("1"),h=Object(o.a)(j,2),f=h[0],p=h[1],x=Object(a.useState)(at),g=Object(o.a)(x,2),C=g[0],w=g[1],y=Object(a.useCallback)((function(e){console.log("ROWS-ROWS",e),d(e)}),[]),S=Object(a.useState)(""),k=Object(o.a)(S,2),Y=k[0],D=k[1],q=Object(a.useState)(!1),I=Object(o.a)(q,2),F=I[0],N=I[1],R=Object(a.useState)(null),A=Object(o.a)(R,2),P=A[0],B=A[1],M=Object(a.useState)(null),T=Object(o.a)(M,2),E=T[0],V=T[1],L=Object(a.useState)(null),z=Object(o.a)(L,2),G=z[0],H=z[1];Object(a.useEffect)((function(){n.length>1&&c({})}),[]);var K=Object(a.useCallback)((function(e){w(Object(v.a)(Object(v.a)({},C),{},{data:Object(v.a)(Object(v.a)({},C.data),{},{search:e.sku,fincode:e.u5NAME,sku:e.sku,mtrlname:e.name,mtrl:e.mtrl,qtY1:e.mU21,qtY2:"1",xdocname:e.xdocname,qtY1Def:e.mU21})}))}),[C]),U=Object(a.useCallback)((function(e){w(Object(v.a)(Object(v.a)({},C),{},{data:Object(v.a)(Object(v.a)({},C.data),{},{commentS1:e})}))}),[C]),_=Object(a.useCallback)((function(e){var t=(parseFloat(e)*parseFloat(C.data.qtY1Def)).toFixed(2),n=new Number(t),a=n.toLocaleString("el-GR"),c=n.toLocaleString("en-GB");w(Object(v.a)(Object(v.a)({},C),{},{data:Object(v.a)(Object(v.a)({},C.data),{},{qtY1:a,qt1converted:c,qtY2:e})}))}),[C]),$={getSelection:K,resetSelection:Object(a.useCallback)((function(){w(at)}),[])},X=nt();return Object(m.jsxs)(se.Provider,{value:{selectedInfo:C,actions:$,orderColor:f,colorValue:G,handleSetSelectedValue:function(e){w(Object(v.a)(Object(v.a)({},C),{},{data:Object(v.a)(Object(v.a)({},C.data),{},{search:e})}))},setWeight:_,setComments:U,setOrderColor:p,setColorValue:function(e){H(e)},setFinCode:function(e){w(Object(v.a)(Object(v.a)({},C),{},{data:Object(v.a)(Object(v.a)({},C.data),{},{fincode:e})}))}},children:[Object(m.jsxs)(u.a,{container:!0,spacing:3,justifyContent:"center",children:[Object(m.jsx)(Ge,{}),Object(m.jsx)(u.a,{item:!0,xs:12,children:Object(m.jsx)(O.a,{className:X.title,children:"\u039d\u0395\u0391 \u03a0\u0391\u03a1\u0391\u0393\u0393\u0395\u039b\u0399\u0391"})}),Object(m.jsx)(u.a,{item:!0,xs:12,children:Object(m.jsx)(u.a,{container:!0,spacing:3,children:Object(m.jsx)(u.a,{item:!0,xs:12,sm:6,children:Object(m.jsx)(Ue,{isDisabled:s.length>0})})})}),Object(m.jsx)(u.a,{item:!0,lg:12,sm:12,className:X.table,children:Object(m.jsx)(me,{name:"details",onRowclick:function(){return!1},headCells:[{id:"fincode",numeric:!1,label:"\u039f\u039c\u0391\u0394\u0391"},{id:"sku",numeric:!1,label:"\u039a\u03a9\u0394\u0399\u039a\u039f\u03a3"},{id:"mtrlname",numeric:!1,label:"\u03a0\u0395\u03a1\u0399\u0393\u03a1\u0391\u03a6\u0397"},{id:"qtY2",numeric:!0,label:"\u0392\u0395\u03a1\u0393\u0395\u03a3"},{id:"qtY1",numeric:!0,label:"\u039a\u0399\u039b\u0391"},{id:"xdocname",numeric:!1,label:"\u03a4\u039f\u039c\u0397"},{id:"commentS1",numeric:!1,label:"\u03a0\u0391\u03a1\u0391\u03a4\u0397\u03a1\u0397\u03a3\u0395\u0399\u03a3"},{id:"action",numeric:!1,label:""}],clearCell:!0,rows:[],add:!0,getRows:y,pagination:!1,rowsPerPagenum:100})}),Object(m.jsx)(u.a,{container:!0,justifyContent:"center",children:Object(m.jsx)(u.a,{item:!0,children:Object(m.jsx)(W.a,{variant:"outlined",id:"outlined-multiline-flexible",label:"\u03a0\u0391\u03a1\u0391\u03a4\u0397\u03a1\u0397\u03a3\u0395\u0399\u03a3",multiline:!0,maxRows:4,value:Y,onChange:function(e){D(e.target.value)},style:{width:350}})})}),Object(m.jsx)(u.a,{item:!0,justifyContent:"center",children:Object(m.jsx)(u.a,{container:!0,spacing:3,justifyContent:"center",children:s.length>0&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(u.a,{item:!0,xs:12,justifyContent:"center",children:Object(m.jsx)("div",{style:{textAlign:"center"},children:n.length>1&&Object(m.jsx)(Ve,{})})}),Object(m.jsxs)(u.a,{item:!0,xs:12,justifyContent:"center",children:[console.log("selectedBranch",n),t&&Object(m.jsx)("div",{style:{textAlign:"center"},children:Object(m.jsx)(b.a,{variant:"contained",color:"primary",onClick:function(){var e=s.map((function(e){return{company:1,boption:f,trdr:t.trdr,trdbranch:0===t.trdbranch?null:t.trdbranch,comments:G,mtrl:e.mtrl,commentS1:e.commentS1,qtY1:e.qt1converted,qtY2:e.qtY2,remarks:Y}}));(function(){return ce.apply(this,arguments)})("".concat(J,"/erpapi/putorder"),e).then((function(e){"OK"===e.response.statusText&&(N(!0),B(e.data.findoc),V(e.data.fincode)),console.log(e)}))},children:"\u0391\u03a0\u039f\u03a3\u03a4\u039f\u039b\u0397 \u03a0\u0391\u03a1\u0391\u0393\u0393\u0395\u039b\u0399\u0391\u03a3"})})]})]})})})]}),Object(m.jsx)(tt,{open:F,finDoc:E,onClose:function(){return N(!F)},getPdf:function(){re(E,P)}})]})},rt=(n(149),n(212)),it=n(116),ot=Object(it.a)({palette:{primary:{main:"#83bd00"},secondary:{main:"#11cb5f"},error:{main:"#e53935"}}});var st=function(){var e=Object(a.useState)(null),t=Object(o.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)([]),i=Object(o.a)(r,2),d=i[0],j=i[1],u=Object(a.useState)({}),b=Object(o.a)(u,2),O=b[0],h=b[1];return Object(a.useEffect)((function(){console.log("here");var e=document.getElementById("userAfm");e&&ne(e.value).then((function(t){j(t),1===(null===t||void 0===t?void 0:t.length)&&h(t[0]),c(e.value)}))}),[n]),Object(m.jsx)(rt.a,{theme:ot,children:Object(m.jsx)(Ee.Provider,{value:{branch:d,setBranch:j,selectedBranch:O,setSelectBranch:h},children:Object(m.jsx)("div",{className:"App",children:Object(m.jsx)(s.a,{children:Object(m.jsxs)(l.c,{children:[Object(m.jsx)(l.a,{exact:!0,path:"/",children:Object(m.jsx)(f,{})}),Object(m.jsx)(l.a,{exact:!0,path:"/erp-test",children:Object(m.jsx)(f,{})}),Object(m.jsx)(l.a,{path:"/orders",children:Object(m.jsx)(Je,{afm:n})}),Object(m.jsx)(l.a,{path:"/new",children:Object(m.jsx)(ct,{})})]})})})})})},lt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,230)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))};i.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(st,{})}),document.getElementById("root")),lt()}},[[150,1,2]]]);
//# sourceMappingURL=main.9503692e.chunk.js.map